<!DOCTYPE html>
<html lang="en" class="bg-[#030712] text-slate-200">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Repo_Sync | ArttulOS - Sovereign Hybrid Source Tracker</title>
    <meta name="description" content="Real-time synchronization tracker for ArttulOS. Monitoring the convergence of RHEL, Arch, and Nix source trees." />
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Space+Grotesk:wght@300;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --cyan-volt: #00f2ff;
            --rhel-red: #ff3e3e;
            --bg-void: #030712;
            --panel-slate: #0f172a;
        }

        body { font-family: 'Space Grotesk', sans-serif; }
        .mono { font-family: 'JetBrains Mono', monospace; }
        
        .brutal-card {
            background: rgba(15, 23, 42, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .brutal-card:hover {
            border-color: var(--cyan-volt);
            box-shadow: 4px 4px 0px var(--cyan-volt);
            transform: translate(-2px, -2px);
        }

        #repo-search {
            background: #000;
            border: 1px solid rgba(255,255,255,0.1);
            color: var(--cyan-volt);
            font-family: 'JetBrains Mono', monospace;
        }
        #repo-search:focus {
            border-color: var(--cyan-volt);
            outline: none;
            box-shadow: 0 0 15px rgba(0, 242, 255, 0.2);
        }

        .active-badge {
            background: rgba(0, 242, 255, 0.1);
            color: var(--cyan-volt);
            border: 1px solid var(--cyan-volt);
            font-size: 10px;
            padding: 2px 6px;
            font-weight: bold;
            text-transform: uppercase;
        }

        #modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(10px);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }

        .modal-container {
            background: #0a0f1d;
            border: 1px solid var(--cyan-volt);
            width: 100%;
            max-width: 800px;
            position: relative;
        }

        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-thumb { background: var(--cyan-volt); }
    </style>
</head>
<body class="selection:bg-cyan-500 selection:text-black">

    <!-- HEADER HUD -->
    <header class="border-b border-white/5 bg-black/80 backdrop-blur-xl sticky top-0 z-50">
        <div class="max-w-[1600px] mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <div class="w-10 h-10 bg-cyan-400 text-black flex items-center justify-center font-black text-2xl rotate-45 border border-white">A</div>
                <div>
                    <h1 class="text-xl font-bold tracking-tighter leading-none uppercase">Arttul<span class="text-cyan-400">OS</span></h1>
                    <p class="text-[9px] mono text-cyan-600 font-bold uppercase tracking-widest">Brought to you by the co-lead of AcreetionOS</p>
                </div>
            </div>
            <nav class="hidden md:flex space-x-8 mono text-[11px] font-bold uppercase tracking-widest text-slate-400">
                <a href="index.html" class="hover:text-cyan-400 transition">Dashboard</a>
                <a href="install.html" class="hover:text-cyan-400 transition">Provisioning</a>
                <a href="#" class="text-cyan-400 border-b border-cyan-400">Repo_Sync</a>
                <a href="contact.html" class="hover:text-cyan-400 transition">Nexus</a>
            </nav>
        </div>
    </header>

    <div class="max-w-[1600px] mx-auto px-6 py-12 grid grid-cols-1 lg:grid-cols-[1fr_350px] gap-12">
        
        <main>
            <!-- HERO -->
            <section class="mb-12">
                <div class="inline-block px-2 py-1 bg-red-600/20 border border-red-500 text-red-500 text-[10px] mono font-bold uppercase tracking-[0.3em] mb-4">
                    Source Target: arttulos-linux
                </div>
                <h2 class="text-5xl md:text-7xl font-black uppercase tracking-tighter italic mb-6">Source_<span class="text-cyan-400">Tracker</span>.</h2>
                <p class="text-xl text-slate-400 max-w-2xl leading-relaxed mb-8">
                    Monitoring the development lifecycle of the ArttulOS Project. Our repositories host the core PacNixum engine, the RHEL compatibility shim, and our atomic Nix configurations.
                </p>
                
                <div class="flex flex-col md:flex-row gap-4 mb-8">
                    <input type="text" id="repo-search" class="flex-1 p-4 text-sm" placeholder="QUERY_REPOSITORY_MANIFEST...">
                    <div class="flex gap-2">
                        <button id="show-active" class="px-6 py-4 bg-cyan-400 text-black font-black uppercase text-xs tracking-widest hover:bg-white transition-all">Pulse_Sync</button>
                        <button id="show-all" class="px-6 py-4 border border-white/20 mono text-xs uppercase hover:bg-white/10 transition-all">Show_All</button>
                    </div>
                </div>
            </section>

            <!-- REPO LIST -->
            <div class="space-y-4">
                <div id="loading-status" class="mono text-cyan-500 animate-pulse text-xs uppercase tracking-widest">:: Establishing Connection to ArttulOS Git Nodes...</div>
                <div id="repo-list" class="grid grid-cols-1 gap-4">
                    <!-- JS Injected -->
                </div>
            </div>
        </main>

        <!-- SIDEBAR -->
        <aside class="space-y-8">
            <div class="p-6 brutal-card bg-slate-900/40">
                <h3 class="text-xs mono text-slate-500 uppercase mb-4 tracking-widest">Global_Status</h3>
                <div class="space-y-4 mono text-[11px]">
                    <div class="flex justify-between border-b border-white/5 pb-2">
                        <span class="text-slate-500">DISTRO_TYPE</span>
                        <span class="text-white">SOVEREIGN_HYBRID</span>
                    </div>
                    <div class="flex justify-between border-b border-white/5 pb-2">
                        <span class="text-slate-500">ENGINE_SYNC</span>
                        <span class="text-emerald-500">OPTIMAL</span>
                    </div>
                    <div class="flex justify-between border-b border-white/5 pb-2">
                        <span class="text-slate-500">ARCH_AUR_LINK</span>
                        <span class="text-cyan-400">ENFORCED</span>
                    </div>
                </div>
            </div>

            <div class="p-6 brutal-card bg-cyan-950/20 border-cyan-500/30">
                <h3 class="text-xs mono text-white font-bold uppercase mb-2">Heritage_Core</h3>
                <p class="text-[11px] text-slate-400 leading-relaxed italic">
                    "ArttulOS is the fusion of stability and freedom, engineered by the co-lead of AcreetionOS to define the next era of personal computing."
                </p>
                <div class="mt-4 text-[10px] mono font-bold text-cyan-400 uppercase">
                    Architect: Natalie Spiva
                </div>
            </div>
        </aside>
    </div>

    <!-- MODAL -->
    <div id="modal">
        <div class="modal-container p-8 brutal-card">
            <button class="absolute top-4 right-4 text-cyan-400 text-3xl font-light hover:text-white" onclick="document.getElementById('modal').style.display='none'">×</button>
            <div id="modal-body">
                <!-- JS Content -->
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer class="border-t border-white/5 bg-black py-12 px-6">
        <div class="max-w-[1600px] mx-auto flex flex-col md:flex-row justify-between items-center gap-8">
            <div class="text-center md:text-left">
                <p class="text-[10px] mono text-cyan-600 font-bold uppercase tracking-widest mb-1">Brought to you by the co-lead of AcreetionOS</p>
                <p class="text-[10px] text-slate-600 mono uppercase tracking-widest">RHEL Binary Compatibility // Arch Fast-Rolling // Nix Repro</p>
            </div>
            <div class="text-center md:text-right">
                <p class="text-[10px] mono text-slate-500 mb-2 uppercase">Project Status: LIVE</p>
                <p class="text-sm font-black italic tracking-tighter uppercase">© 2026 Natalie Spiva. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // TARGET ORGANIZATION: arttulos-linux
        const GITHUB_ORG = 'arttulos-linux'; 
        const repoListEl = document.getElementById('repo-list');
        const loadingEl = document.getElementById('loading-status');
        const modalEl = document.getElementById('modal');
        const searchInput = document.getElementById('repo-search');
        
        let allRepos = [];

        async function initTracker() {
            try {
                // Fetching repos from arttulos-linux organization
                const res = await fetch(`https://api.github.com/users/${GITHUB_ORG}/repos?sort=pushed&per_page=100`);
                if (!res.ok) throw new Error("Sync Fail");
                allRepos = await res.json();
                loadingEl.style.display = 'none';
                renderRepos(allRepos);
            } catch (err) {
                loadingEl.innerHTML = "<span class='text-red-500'>CRITICAL_SYNC_ERROR: UNABLE TO REACH ARTTUL GIT NODES.</span>";
            }
        }

        function renderRepos(repos) {
            repoListEl.innerHTML = '';
            if(repos.length === 0) {
                repoListEl.innerHTML = '<div class="mono text-xs text-slate-600 uppercase">Zero matching manifests found in node.</div>';
                return;
            }

            repos.forEach(repo => {
                const daysAgo = Math.floor((new Date() - new Date(repo.pushed_at)) / (1000 * 60 * 60 * 24));
                const isRecent = daysAgo < 30;

                const card = document.createElement('div');
                card.className = 'brutal-card p-6 cursor-pointer flex justify-between items-center group';
                card.onclick = () => openModal(repo);

                card.innerHTML = `
                    <div class="space-y-1">
                        <div class="flex items-center gap-3">
                            <h3 class="text-lg font-bold uppercase italic tracking-tight group-hover:text-cyan-400 transition-colors">${repo.name}</h3>
                            ${isRecent ? '<span class="active-badge">Sync_Active</span>' : ''}
                        </div>
                        <p class="text-xs text-slate-500 max-w-lg truncate">${repo.description || 'System manifest: No description provided.'}</p>
                    </div>
                    <div class="hidden md:flex items-center gap-6 mono text-[10px] uppercase font-bold">
                        <span class="text-slate-600">STARS: <span class="text-cyan-400">${repo.stargazers_count}</span></span>
                        <span class="text-slate-600">CORE: <span class="text-white">${repo.language || 'Hybrid'}</span></span>
                    </div>
                `;
                repoListEl.appendChild(card);
            });
        }

        async function openModal(repo) {
            const body = document.getElementById('modal-body');
            modalEl.style.display = 'flex';
            body.innerHTML = `
                <h2 class="text-3xl font-black uppercase italic mb-2 tracking-tighter">${repo.name}</h2>
                <p class="text-slate-400 mb-6 text-sm italic font-light">${repo.description || 'No system manifest description available.'}</p>
                <div class="flex flex-wrap gap-4 mb-8">
                    <a href="${repo.html_url}" target="_blank" class="px-6 py-3 bg-white text-black font-black uppercase text-[10px] tracking-widest hover:bg-cyan-400 transition-colors">Access_Source</a>
                    <a href="${repo.html_url}/issues" target="_blank" class="px-6 py-3 border border-white/20 mono uppercase text-[10px] tracking-widest hover:bg-white/10 transition-colors">Bug_Tracker</a>
                </div>
                <h3 class="text-xs mono text-cyan-500 uppercase mb-4 tracking-[0.2em] font-bold">Latest_Commit_Log</h3>
                <div id="modal-loading" class="mono text-[10px] animate-pulse">:: Parsing Repository History...</div>
                <ul id="modal-commits" class="space-y-4 mono text-[11px]"></ul>
            `;

            try {
                // Fetching commits specifically for the clicked repo
                const res = await fetch(`https://api.github.com/repos/${GITHUB_ORG}/${repo.name}/commits?per_page=5`);
                const commits = await res.json();
                document.getElementById('modal-loading').style.display = 'none';
                const list = document.getElementById('modal-commits');
                
                if(Array.isArray(commits)) {
                    list.innerHTML = commits.map(c => `
                        <li class="border-b border-white/5 pb-3">
                            <div class="flex justify-between items-center mb-1">
                                <span class="text-white font-bold uppercase tracking-tighter">Auth: ${c.commit.author.name}</span>
                                <span class="text-[9px] text-slate-600">${new Date(c.commit.author.date).toLocaleDateString()}</span>
                            </div>
                            <span class="text-slate-500 italic">${c.commit.message.split('\n')[0]}</span>
                        </li>
                    `).join('');
                } else {
                    list.innerHTML = '<li class="text-red-500 uppercase font-bold">Commit Load Error: API_Limit_Reached</li>';
                }
            } catch(e) {
                document.getElementById('modal-loading').innerText = "FATAL: FAILED TO PARSE HISTORY.";
            }
        }

        searchInput.addEventListener('input', (e) => {
            const term = e.target.value.toLowerCase();
            const filtered = allRepos.filter(r => 
                r.name.toLowerCase().includes(term) || 
                (r.description && r.description.toLowerCase().includes(term))
            );
            renderRepos(filtered);
        });

        document.getElementById('show-active').addEventListener('click', () => {
            const active = allRepos.filter(r => (Math.floor((new Date() - new Date(r.pushed_at)) / (1000 * 60 * 60 * 24))) < 30);
            renderRepos(active);
        });

        document.getElementById('show-all').addEventListener('click', () => renderRepos(allRepos));

        modalEl.addEventListener('click', (e) => {
            if (e.target === modalEl) modalEl.style.display = 'none';
        });

        initTracker();
    </script>
</body>
</html>